{
"ja": {
"インストール":{
"data":{"frequently":"","abbreviation":"","icon":"fa-download","id":"install"},
"1":{"id":"install1","Q":"Proxy環境でEPOCHを利用する方法を教えてください。","A":"Proxy環境で動かすには２つ設定が必要です。\n１：Kubernetes masterノードへのNO_PROXY設定\n　・kubernetes masterノードにある、次のファイルを変更します。\n　  /etc/kubernetes/manifests/kube-apiserver.yaml\n　 このファイルのNO_PROXY、no_proxyのvalue値に次の値を追加します。\n　  \",tekton-pipelines-webhook.tekton-pipelines.svc,tekton-triggers-webhook.tekton-pipelines.svc\"\n　 ※注意事項※\n　　 ファイルの変更前のバックアップは、/etc/kubernetes/manifests/配下に置かないでください。\n\n２：EPOCHへのProxy設定\n　・EPOCHをインストール後に次のコマンドを実行してください\n　 ${HTTP_PROXY},${HTTPS_PROXY}はご自身の環境の設定値を指定してください\n{cmd{DATA=\"{ \\\"data\\\" : {\\\n    \\\"HTTP_PROXY\\\" : \\\"${HTTP_PROXY}\\\",\\\n    \\\"HTTPS_PROXY\\\" : \\\"${HTTPS_PROXY}\\\"\\\n} }\"\nkubectl get configmap epoch-control-api-config -n epoch-system &> /dev/null\nif [ $? -eq 0 ]; then\n    kubectl patch configmap epoch-control-api-config -n epoch-system -p \"${DATA}\"\nfi\nkubectl get configmap proxy-setting-config -n epoch-system &> /dev/null\nif [ $? -eq 0 ]; then\n    kubectl patch configmap proxy-setting-config -n epoch-system -p \"${DATA}\"\nfi\nkubectl get configmap epoch-cicd-api-config -n epoch-system &> /dev/null\nif [ $? -eq 0 ]; then\n    kubectl patch configmap epoch-cicd-api-config -n epoch-system -p \"${DATA}\"\nfi\nkubectl rollout restart deploy -n epoch-system}command}"},
"2":{"id":"install2","Q":"EPOCHを再インストールまたはアンインストールしたいです。","A":"アンインストールはアンインストーラをepochのリポジトリからダウンロードして、アンインストールのシェルを実行します。\n再インストールは、アンインストールしてから再度インストールを行ってください。\n\ngithubのreleaseにあるバージョンごとのzipまたはtar.gz をターミナルでダウンロード curl -OL して、展開後、epoch\\installフォルダのepoch-uninstall.shを実行してください。"},
"3":{"id":"install3","Q":"EPOCHをインストール(epoch-install.yamlをapply)したときに、エラーが発生しました。","A":"v0.1系、v0.2系のインストーラでは、epoch-install.yamlをapplyしたときに以下のようなエラーが発生する場合があります。\nエラーが発生した場合はしばらく待ったのちに再度epoch-install.yamlをapplyしてください。\n\nエラー内容\n{cmd{Error from server (InternalError): error when creating \"epoch-install.yaml\": Internal error occurred: failed calling webhook \"webhook.triggers.tekton.dev\": Post \"https://tekton-triggers-webhook.tekton-pipelines.svc:443/defaulting?timeout=10s\": dial tcp ***.***.***.***:443: connect: connection refused}command}"},
"4":{"id":"install4","Q":"EPOCHをインストールしたときに、発生したエラーの詳細を確認する方法を教えてください。","A":"kubectl get po -n epoch-systemでpod名を取得し、\"Running\",\"Completed\"以外となっているpodについて、以下のコマンドで確認します。\n1.kubectl logs [pod名] -n epoch-system\n2.kubectl describe po [pod名] -n epoch-system\n\nまた、exastro-platform-authentication-infraについても同様のコマンドで確認します。\n（epoch-systemをexastro-platform-authentication-infraに変更して実行）"}
}
},
"en": {
"Install":{
"data":{"frequently":"","abbreviation":"","icon":"fa-download","id":"install"},
"1":{"id":"install1","Q":"How can I use EPOCH in a proxy environment?","A":"The following settings must be configured in order to run EPOCH in a proxy environment.\n1: NO_PROXY settings for the Kubernetes master node.\n　・Edit the following file in the Kubernetes master node.\n　  /etc/kubernetes/manifests/kube-apiserver.yaml\n　  Add the following value to the file's no_proxy value:\n　  \",tekton-pipelines-webhook.tekton-pipelines.svc,tekton-triggers-webhook.tekton-pipelines.svc\"\n　  ※Caution※\n　  Do not put any backup files under the following path:、/etc/kubernetes/manifests/\n\n２：EPOCH Proxy settings\n　・Run the following command after you have installed EPOCH.\n　  Replace  ${HTTP_PROXY},${HTTPS_PROXY} with your own environment's setting values.\n\n{cmd{DATA=\"{ \\\"data\\\" : {\\\n    \\\"HTTP_PROXY\\\" : \\\"${HTTP_PROXY}\\\",\\\n    \\\"HTTPS_PROXY\\\" : \\\"${HTTPS_PROXY}\\\"\\\n} }\"\nkubectl get configmap epoch-control-api-config -n epoch-system &> /dev/null\nif [ $? -eq 0 ]; then\n    kubectl patch configmap epoch-control-api-config -n epoch-system -p \"${DATA}\"\nfi\nkubectl get configmap proxy-setting-config -n epoch-system &> /dev/null\nif [ $? -eq 0 ]; then\n    kubectl patch configmap proxy-setting-config -n epoch-system -p \"${DATA}\"\nfi\nkubectl get configmap epoch-cicd-api-config -n epoch-system &> /dev/null\nif [ $? -eq 0 ]; then\n    kubectl patch configmap epoch-cicd-api-config -n epoch-system -p \"${DATA}\"\nfi\nkubectl rollout restart deploy -n epoch-system}command}"},
"2":{"id":"install2","Q":"How can I reinstall/uninstall EPOCH?","A":"If you want to uninstall EPOCH, download the uninstaller from the EPOCH repository and run the uninstall shell.\nIf you want to reinstall EPOCH, uninstall EPOCH and reinstall it.\n\nUse the terminal to download the zip file(or tar.gz) file from the Github release page and run curl -OL(make sure to download the file corresponding to your EPOCH version). After the file has been extracted, run the epoch-uninstall.sh file under the epoch/install folder."},
"3":{"id":"install3","Q":"An error occured while I was installing EPOCH (while applying epoch-install.yaml). What should I do?","A":"An error similar to the one shown below might occur when the epoch-install.yaml is applied in the v0.1 or v0.2 installer. \nIf the error occurs, please wait a little bit before trying again. \n\nError contents\nError from server (InternalError): error when creating \"epoch-install.yaml\": Internal error occurred: failed calling webhook \"webhook.triggers.tekton.dev\": Post \"https://tekton-triggers-webhook.tekton-pipelines.svc:443/defaulting?timeout=10s\": dial tcp ***.***.***.***:443: connect: connection refused"},
"4":{"id":"install4","Q":"Is there any way to see detailed information regarding occuring errors when installing EPOCH?","A":"You can gather different pods with kubectl get po -n epoch-system. Any pods that are not \"Running\", or \"Completed\" can be checked with the following command.\n1.kubectl logs [pod name] -n epoch-system\n2.kubectl describe po [pod name] -n epoch-system\n\nThe exastro-platform-authentication-infra can be checked by doing the same. \n(Replace \"epoch-system\" with \"exastro-platform-authentication-infra\")"}
}
}
}